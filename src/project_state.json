{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 5,
  "summary": "New project",
  "architectural_notes": [
    "Backend must use mo:base imports only; mo:core imports are not supported in production builds."
  ],
  "known_issues": [
    "Deployment fails because backend source still contains mo:core/* imports (production cannot compile).",
    "Attempts to rewrite backend to mo:base-only have not been successfully applied; system reports: \"The AI couldn't implement your request. Please simplify or rephrase your prompt.\" Deployment continues to fail while mo:core imports remain."
  ],
  "isFixRequest": true,
  "existing_features": [],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Rewrite backend to use only mo:base imports (remove mo:core imports causing deployment failure)",
      "reqIds": [],
      "status": "in_progress"
    },
    {
      "id": "AR-2",
      "summary": "Update `backend/main.mo` to remove all `mo:core/*` imports and replace them with `mo:base/*` equivalents (or language built-ins) so the backend compiles in production.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Replace all usages that depend on `mo:core`-only APIs in `backend/main.mo` with production-compatible `mo:base` implementations while preserving the existing public Candid interface and behavior for: user profiles, shop items CRUD, cart operations, UPI purchases, orders listing, and order approval.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Ensure state remains upgrade-safe after migrating away from `mo:core` data structures by implementing appropriate upgrade handling (stable state serialization + reconstruction) in the single `backend/main.mo` actor, initializing defaults when no prior state exists. Add `backend/migration.mo` only if required to preserve existing deployed state.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Rewrite `backend/main.mo` to remove all `mo:core/*` imports and use only `mo:base/*` modules (and Motoko built-ins), so the backend compiles in production.",
      "reqIds": [
        "REQ-4"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Replace all logic currently relying on `mo:core`-specific data structures/APIs in `backend/main.mo` with `mo:base` equivalents while preserving the existing public Candid interface and behavior for: user profiles, shop items CRUD, cart operations, UPI purchases, orders listing, and order approval.",
      "reqIds": [
        "REQ-5"
      ],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Ensure backend state remains upgrade-safe after migrating away from `mo:core` data structures by implementing stable state serialization + reconstruction in the single `backend/main.mo` actor, initializing defaults when no prior state exists; add `backend/migration.mo` only if required to preserve existing deployed state.",
      "reqIds": [
        "REQ-6"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Rewrite Motoko backend to use mo:base only (remove all mo:core imports)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}